import{u as p,b as h,a as x,r as f,j as e,P as g,c as j}from"./index-3uufXZXE.js";import{u as b}from"./index.esm-D9Zifrdc.js";function N(){const{user:s,error:i,isLoading:l}=p(r=>r.user),o=h(),n=x(),{register:t,handleSubmit:m,formState:{errors:a,isValid:d}}=b({mode:"onBlur",defaultValues:{email:"",password:""}});f.useEffect(()=>{s!=null&&s.id&&o("/")},[s==null?void 0:s.id]);const c=r=>{n(j(r)).unwrap().catch(u=>console.error(u))};return l?e.jsx(g,{}):e.jsxs("form",{className:"d-flex flex-column align-items-center",onSubmit:r=>{m(c)(r)},children:[e.jsx("h2",{className:"display-6 mb-4 mt-4",children:"Вход"}),e.jsxs("label",{htmlFor:"input-email",children:["Email",e.jsx("input",{className:`form-control ${a.email?"is-invalid":""}`,...t("email",{required:"Введите email",minLength:{value:4,message:"Минимум 4 символа"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Не верный email"}})})]}),a.email&&e.jsx("div",{style:{color:"red"},children:a.email.message}),e.jsxs("label",{htmlFor:"input-password",children:["Пароль",e.jsx("input",{className:`form-control ${a.password?"is-invalid":""}`,type:"password",...t("password",{required:"Введите пароль",minLength:{value:3,message:"Минимум 3 символа"}})})]}),a.password&&e.jsx("div",{style:{color:"red"},children:a.password.message}),i&&e.jsx("div",{className:"alert alert-danger mt-3",children:i}),e.jsx("button",{type:"submit",className:"btn btn-outline-primary mt-3",disabled:!d,children:"Отправить"})]})}export{N as default};
